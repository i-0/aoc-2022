package day2

import day2.Parser.parseShapes
import day2.Parser.parseStrategy
import day2.Result.*
import day2.Shapes.*
import io.kotest.matchers.shouldBe
import org.junit.jupiter.api.Test

class Day2Tests {
    @Test
    fun `symbolic approach test`() {
        val inputSmall = """
            A Y
            B X
            C Z
        """.trimIndent()
        val shapes: List<Pair<Shape, Shape>> = parseShapes(inputSmall)
        shapes shouldBe listOf(
            Rock to Paper,
            Paper to Rock,
            Scissor to Scissor
        )

        // part 1
        val score = shapes.sumOf { baseScore(it.second) + score(it) }
        score shouldBe 15

        // part 2
        val strategy: List<Pair<Shape, Result>> = parseStrategy(inputSmall)
        strategy shouldBe listOf(
            Rock to Draw,   // -> Rock
            Paper to Loose, // -> Rock
            Scissor to Win  // -> Rock
        )

        val shapesForStrategy: List<Pair<Shape, Shape>> = strategy.map { translate(it) }
        shapesForStrategy shouldBe listOf(
            Rock to Rock,   // Draw
            Paper to Rock,  // Loose
            Scissor to Rock // Win
        )

        shapesForStrategy.sumOf { baseScore(it.second) + score(it) } shouldBe 12

        parseStrategy(input)
            .map { translate(it) }
            .sumOf { baseScore(it.second) + score(it) } shouldBe 14470 // result part 2
    }

}

sealed class Result {
    object Win : Result()
    object Draw : Result()
    object Loose : Result()
}

interface Shape : Vulnerability

private fun Shape.beats(): Shape =
    listOf(Rock, Paper, Scissor)
        .minus(this)
        .first { it.isVulnerable() == this }

interface Vulnerability {
    fun isVulnerable(): Shape
}

sealed class Shapes {
    object Rock : Shape {
        override fun isVulnerable(): Shape {
            return Paper
        }
    }

    object Paper : Shape {
        override fun isVulnerable(): Shape {
            return Scissor
        }
    }

    object Scissor : Shape {
        override fun isVulnerable(): Shape {
            return Rock
        }
    }
}

private fun String.toResult(): Result =
    when (this) {
        "X" -> Loose
        "Y" -> Draw
        "Z" -> Win
        else -> throw IllegalArgumentException()
    }

object Parser {
    fun parseShapes(input: String): List<Pair<Shape, Shape>> {
        return input.lines().map { line ->
            val tuple: List<String> = line.split(" ")
            val first = tuple.first()
            val second = tuple.last()
            first.toShape() to second.toShape()
        }
    }


    fun parseStrategy(input: String): List<Pair<Shape, Result>> {
        return input.lines().map { line ->
            val tuple: List<String> = line.split(" ")
            val first = tuple.first()
            val second = tuple.last()
            first.toShape() to second.toResult()
        }
    }
}

private fun translate(strategy: Pair<Shape, Result>): Pair<Shape, Shape> {
    return when (strategy.second) {
        Draw -> strategy.first to strategy.first
        Loose -> strategy.first to strategy.first.beats()
        Win -> strategy.first to strategy.first.isVulnerable()
    }
}

private fun String.toShape(): Shape =
    when (this) {
        "A", "X" -> Rock
        "B", "Y" -> Paper
        "C", "Z" -> Scissor
        else -> throw IllegalArgumentException()
    }

private fun score(round: Pair<Shape, Shape>): Int {
    val opponent = round.first
    val answer = round.second
    return when {
        opponent == answer -> 3                // draw
        opponent.isVulnerable() == answer -> 6 // win
        answer.isVulnerable() == opponent -> 0 // looses
        else -> throw IllegalArgumentException()
    }
}

fun baseScore(shape: Shape): Int =
    when (shape) {
        Rock -> 1
        Paper -> 2
        Scissor -> 3
        else -> throw IllegalArgumentException()
    }

private val input =
    """
        C X
        A Y
        C Z
        B Y
        C Z
        A Z
        B Y
        C Z
        C Z
        B X
        A X
        A Z
        C Z
        C X
        A Z
        A Z
        C Z
        A X
        A Z
        A Z
        A Z
        A Z
        A Z
        C Z
        A Z
        C X
        C Z
        A Z
        A Z
        B Y
        C Z
        B X
        B X
        A Z
        C Z
        A X
        A X
        B Y
        B Z
        B Y
        A Z
        C Z
        C X
        C Z
        C Z
        C Z
        C Z
        A Z
        A Z
        A Y
        A Y
        C Z
        A X
        C Y
        A Z
        B Y
        C Z
        C Z
        B Y
        C Z
        C Z
        C Z
        A Z
        A Z
        B Y
        C Z
        A Z
        C Z
        C Z
        A Z
        B X
        C Z
        A X
        A X
        A Y
        C X
        A Y
        B X
        A Z
        A Z
        C Z
        A Z
        A Y
        C X
        A X
        B Y
        A Z
        A Y
        C Z
        C Y
        A X
        B Z
        B Y
        A Y
        C Z
        C Z
        C Z
        B Y
        A Z
        C Z
        A Y
        C Z
        A X
        C Z
        C Z
        A Z
        A X
        C X
        C X
        A X
        A X
        A Y
        A Z
        C Z
        A X
        A Z
        B Y
        A Y
        A Z
        C Z
        B Y
        A Z
        C Z
        A Z
        A X
        A Z
        B Y
        C Z
        C Z
        C Z
        C X
        A X
        C Z
        A X
        B Y
        C X
        C Z
        B Y
        B Y
        B X
        C Z
        B Y
        C Z
        C Z
        C Z
        A Z
        C Z
        C Z
        B Y
        C Z
        B Z
        C Z
        C Z
        A X
        C Z
        C Z
        A Z
        C Z
        C X
        C Z
        A Z
        A Z
        A X
        B X
        C Y
        A X
        A Y
        C Y
        C Z
        A Z
        A X
        C X
        C Z
        A X
        B Y
        C Z
        A X
        A X
        C Z
        B Y
        C Z
        A Y
        A Z
        B Y
        A Y
        A X
        C X
        A Z
        C Z
        B Y
        C Z
        C Z
        C Z
        C Z
        A Z
        C Y
        C Z
        A Y
        A X
        A Z
        A Z
        A Z
        C Z
        C Z
        A Z
        C Z
        A Z
        C Z
        A Z
        C Z
        A X
        B Y
        C Z
        C Z
        C X
        B X
        A Z
        C Z
        A Y
        C Z
        B Y
        A Z
        C Y
        C Z
        C Y
        C Z
        B Y
        A Y
        A Z
        C Z
        C X
        C Z
        A Z
        A Z
        A Z
        A Z
        A Z
        C Z
        C X
        A X
        C Z
        A X
        A Z
        A Z
        A Z
        A Z
        A Z
        B Y
        C Z
        C Z
        A Z
        C Z
        C Z
        C Z
        A Z
        C Z
        C Z
        B Y
        C Z
        A Z
        A Y
        C Y
        B Y
        A Z
        A X
        A Y
        C X
        B Y
        C Z
        C X
        C Z
        A Z
        B Y
        C Z
        C X
        C Z
        A Y
        B Z
        C Z
        C Z
        C Z
        A X
        B Y
        C Z
        C X
        B Y
        B Y
        C X
        A Z
        B Y
        C Z
        A X
        B Y
        C Z
        C Z
        A Z
        B Y
        B Y
        B Y
        A X
        C Z
        B Y
        B Y
        B Y
        A X
        A Z
        C Z
        C Z
        B Y
        A Z
        B Y
        B X
        A Z
        C X
        A Z
        C Z
        A Z
        C Y
        A X
        B Y
        C Z
        B Y
        C Y
        C X
        A Y
        C Z
        A Y
        C X
        A Z
        A Z
        A Z
        A Z
        C Z
        A Y
        B Y
        C Z
        C Z
        B Y
        C Z
        C Z
        C Z
        C Z
        C Z
        C Z
        A X
        C Z
        C Z
        C Z
        A X
        A Z
        A X
        A Z
        A X
        A X
        C Z
        A Z
        B Y
        C Z
        A Z
        C Y
        A Z
        B Y
        B Y
        C Z
        B Y
        B Y
        A Y
        B Y
        A X
        C Z
        A Y
        C Z
        A Z
        A Z
        A X
        A Z
        A X
        C Z
        B Y
        A Z
        A X
        C Z
        C Z
        C Z
        A Z
        A Z
        C X
        A Z
        A Y
        A X
        C Z
        A Y
        C Z
        B X
        C X
        A X
        A X
        C Z
        A Y
        C X
        A Z
        B X
        A Z
        A Z
        A Z
        A X
        A Y
        A Z
        C Z
        A X
        C Z
        A X
        A Z
        A Z
        B Y
        A Z
        C X
        C X
        C Z
        A Z
        C X
        A Z
        A Y
        C Z
        C Z
        B Y
        C Z
        C Z
        A Z
        A Y
        B X
        C X
        C Z
        A Z
        C Z
        A X
        A Z
        A Z
        B Y
        A Y
        A Z
        A Z
        A Z
        C Y
        B Y
        A Y
        C Z
        C Z
        C X
        B Y
        C Z
        C Z
        A Y
        A X
        C Z
        C Z
        C X
        A Z
        B X
        C Z
        B Y
        A Y
        C Z
        C Z
        B X
        A X
        A X
        C Z
        A X
        A X
        C Z
        A Z
        C Z
        A Z
        A Z
        C Z
        A Y
        C Z
        C Z
        C Z
        A Z
        C Z
        C Z
        A Y
        C Z
        C Z
        C Z
        C Z
        C Z
        A Z
        C Z
        B Y
        A Z
        C Z
        C X
        A X
        C Z
        B Y
        A Z
        A X
        B Y
        C Z
        C Z
        C Z
        A X
        C Z
        A Z
        A Y
        A Y
        A Z
        A Z
        A Y
        B Y
        A Z
        C Z
        B Y
        C Z
        A Z
        C Z
        B Y
        B Z
        A X
        C Z
        A Y
        A Y
        A Z
        A X
        C Z
        C Z
        C Z
        C Z
        C Z
        A Z
        C Z
        A Z
        A Y
        A Z
        C X
        A Z
        C Y
        B Z
        C X
        A Z
        A X
        A X
        B Y
        C X
        C Z
        B Y
        A Z
        C Z
        C Z
        A Z
        C Z
        A Z
        C X
        C Y
        C Z
        A X
        C Y
        C Z
        A Z
        A Z
        C Z
        C Z
        A Y
        C Z
        C Z
        B Z
        C X
        A X
        A Z
        C Z
        A Y
        C Z
        C Z
        A X
        A Z
        A X
        A Y
        A Y
        A Y
        C Z
        B Y
        C Z
        A X
        C Y
        C Z
        B Y
        A X
        C Z
        A Z
        A Z
        B Y
        C Y
        A Y
        C Y
        A Z
        C Z
        A Z
        C Z
        C Z
        A Z
        A Z
        C Z
        A Z
        C Z
        A Y
        C Z
        C X
        C Z
        C Z
        C Z
        C Z
        A X
        B Z
        B X
        B Y
        B Y
        C Z
        A X
        A X
        B Y
        A Z
        A X
        C Z
        A X
        C X
        A Y
        A X
        C Z
        C Z
        C Z
        C Z
        C Z
        A X
        C Z
        B Y
        C X
        A X
        A Z
        A Z
        C Z
        C Z
        A Z
        A Z
        C Z
        A X
        A Z
        B Y
        C X
        A X
        A Y
        A Z
        C Z
        A Z
        A Z
        B Y
        A X
        B Y
        C X
        A Y
        B Y
        A Z
        C Z
        B Y
        A Z
        C Z
        C Z
        A Z
        C Z
        A Z
        C Z
        B Y
        A Z
        A Y
        C Z
        B Y
        A Z
        C Z
        C Z
        A Z
        A X
        A Z
        A Z
        C Y
        A Y
        C Z
        C Y
        C Z
        C Z
        B Y
        C Z
        C Y
        A Z
        C Z
        B Z
        C Y
        B Y
        C Y
        C Z
        A Y
        C Z
        A Z
        C Z
        A Y
        C Z
        C Z
        B Y
        B Y
        A Z
        C Z
        B Z
        C X
        B Y
        B Y
        C X
        B Y
        A X
        A X
        A Y
        A Z
        A X
        A X
        C Z
        C Z
        C Z
        C X
        C Z
        B Y
        B Z
        C Z
        A Z
        A Y
        A X
        B Y
        B X
        A X
        A Z
        C Z
        C Z
        A Z
        C Z
        A X
        B X
        B Z
        C Z
        B Y
        A Z
        A Z
        C X
        A X
        A Y
        C Z
        B Y
        C Z
        A Z
        A Z
        A Y
        C Z
        A Z
        A Z
        A Z
        C Z
        C Z
        C Z
        A X
        A X
        B X
        C Z
        A Y
        A Y
        A Y
        C Z
        A Z
        A X
        C Z
        A Z
        A Z
        A X
        C Z
        C Z
        C X
        A Z
        C Z
        C Z
        C Z
        A Z
        C Z
        A Z
        C X
        A Z
        C Z
        C Z
        A Y
        A Y
        C Z
        C Z
        C X
        A Z
        A Y
        C Z
        B Y
        C Z
        A Z
        C Z
        C X
        A Z
        A X
        B Y
        B Y
        C Z
        A Z
        A Z
        A Z
        B Z
        B Y
        C Z
        A Z
        C Z
        C Z
        A Z
        A Z
        A Z
        A X
        B Y
        C Z
        A X
        A Y
        A Z
        C Z
        A Z
        C Z
        C Z
        C X
        A Y
        C Z
        C Z
        C Z
        C Z
        B Y
        C Z
        C Z
        B Z
        C Z
        A X
        C Z
        C Z
        C Z
        A Z
        C Z
        C X
        A Y
        C Z
        A Z
        A Y
        A X
        B X
        B Y
        A Z
        A Z
        A X
        A Z
        C Z
        A Z
        A Z
        A Z
        A Z
        C Z
        A X
        A Z
        A Z
        A Y
        C Z
        B Y
        A X
        A X
        A X
        B Y
        C Z
        C Z
        C Z
        C Z
        B Y
        A X
        C Z
        B Y
        A Z
        C Z
        A Z
        B X
        B Y
        A X
        C Z
        C Z
        C X
        A Z
        A X
        C Z
        B Z
        A X
        A Z
        C Y
        A X
        C Z
        A X
        C Z
        C Z
        A Y
        A Z
        B Y
        A Z
        C X
        A Y
        C Z
        C Z
        A Y
        A Z
        C Z
        A Y
        A X
        A X
        A Y
        C Z
        C Z
        C Z
        A Z
        A Z
        C X
        A Z
        C Z
        A X
        C Z
        B Y
        C Y
        C Z
        A Z
        C Z
        A Z
        A Z
        C Z
        C Z
        A Z
        C Z
        C X
        A Z
        B Y
        A Y
        C Z
        C Z
        C Z
        C Z
        B Y
        A Z
        A Z
        A Z
        C Z
        A X
        C Z
        A Z
        C Y
        C X
        C Z
        C Z
        C Z
        A X
        B Y
        A X
        C Y
        C Y
        A Z
        A Z
        B Y
        A Y
        A Z
        A X
        C Z
        A Z
        C Z
        C Z
        A Z
        A X
        A Z
        A Z
        A Z
        C Z
        C Z
        A Z
        C Z
        A Z
        B Y
        A Z
        C Z
        A Y
        B Y
        B Y
        C Z
        A X
        A X
        C X
        B X
        B Y
        C Z
        B Y
        C Z
        C Z
        B Y
        C Z
        A Z
        A Y
        C Z
        C Z
        C Z
        B Y
        C Z
        C Y
        C Z
        A Z
        A Z
        B Y
        A X
        A X
        C Z
        B Y
        C X
        C Z
        A Z
        C Z
        C Z
        A X
        A Z
        A X
        C Z
        B Y
        C Z
        C Z
        C Z
        C Z
        A Z
        A Y
        C Z
        C X
        A Y
        A X
        A X
        A X
        C X
        A Z
        B Y
        B X
        C Z
        A Z
        C Z
        C Y
        A Z
        B Y
        A X
        A Z
        A Y
        C Z
        A Z
        A Z
        A X
        C Y
        A Z
        C Z
        A X
        B Y
        C Z
        A Y
        C Z
        C Z
        B Y
        A Y
        C Z
        A X
        A X
        A Y
        C X
        A X
        C X
        C X
        C Z
        A X
        C Z
        C Y
        C Z
        C X
        B Y
        C Z
        C Y
        A X
        C Z
        A X
        B Z
        A Y
        A Z
        C Z
        C Z
        C Z
        C Z
        A X
        C Z
        C Z
        C Z
        A Z
        B Y
        C Z
        C X
        B Y
        A Z
        C Z
        B Z
        C Z
        A Z
        C Z
        A Z
        B Y
        A Z
        C Z
        C Z
        C X
        A X
        A Z
        B Y
        C Z
        A X
        A Z
        A X
        B Y
        C Z
        A X
        C Z
        C Z
        C X
        C Z
        C Z
        C Z
        A X
        C Z
        B Z
        A Z
        B Y
        C Z
        B Z
        C X
        C X
        C Z
        C Z
        C Z
        B X
        C Z
        C Z
        C Z
        A Z
        B X
        A Y
        A Z
        C Z
        A Y
        A Z
        A X
        A Z
        A Y
        A X
        A Z
        A Z
        C Z
        C Z
        C Z
        A Y
        A X
        A Y
        B Y
        C Z
        B Y
        C Z
        C Z
        A X
        C X
        A Z
        C Z
        B Y
        A Z
        C Z
        B X
        A Y
        C Z
        C Z
        A Y
        C Z
        C Z
        A X
        C Y
        C Z
        A Z
        A Z
        A X
        A Y
        A Z
        C Z
        C Z
        A Z
        A X
        C Z
        A Y
        B X
        B X
        A Z
        A Z
        C Z
        A X
        A X
        C Z
        C X
        C Z
        C Z
        C Z
        C Z
        C X
        C X
        C Z
        A Y
        C Z
        C Z
        C Z
        A X
        B Y
        A Z
        C Z
        A Y
        A Y
        A Z
        C Z
        C Z
        A Z
        A Y
        A Z
        C Z
        C Z
        B X
        A X
        C Z
        C Z
        A Z
        C Z
        A Z
        C Z
        A Z
        A X
        A X
        A Z
        A X
        C Z
        C X
        A Z
        C X
        B Y
        A X
        A Z
        A Z
        C Z
        A Y
        A X
        C X
        A Z
        C X
        C Z
        A X
        C Z
        C Z
        B Y
        B Y
        C Z
        C X
        B Y
        A Z
        C Z
        C Z
        C Y
        C Z
        C Y
        C Z
        A X
        A Y
        B X
        C Z
        B Y
        A Y
        A X
        C X
        A Z
        A Y
        C Z
        B Y
        A Y
        C X
        A Z
        A Y
        A X
        C Z
        C Z
        C Z
        C Z
        A X
        A Y
        B Y
        C Z
        C Y
        A X
        A X
        A Z
        A Z
        A Z
        A Z
        A Z
        C Z
        A Z
        C Y
        A Y
        A Y
        B Y
        A Z
        A Z
        A Y
        C Z
        C Z
        A Z
        B Y
        B Y
        C Z
        B Y
        A X
        B Y
        A Y
        B Y
        C X
        B Y
        A X
        B Z
        C Z
        C Z
        C Z
        C Z
        A Y
        C Z
        A Z
        A Y
        B Y
        A X
        C Z
        B X
        C Z
        C Z
        C Z
        A Z
        A Z
        A Z
        A X
        C Y
        A Z
        B Y
        C Z
        C Z
        C Z
        A X
        B Y
        B Z
        C Z
        C Z
        C X
        A Z
        A X
        A X
        C Z
        A Z
        A X
        C Z
        A X
        A Z
        A Y
        C Z
        A Y
        C X
        A Z
        A X
        A Z
        C Z
        B Z
        A Y
        A X
        C X
        C Y
        B Y
        A X
        C Z
        C Z
        C Z
        C X
        C Z
        C X
        C Z
        C Z
        A Z
        A Z
        B Y
        A Y
        C X
        A X
        C Z
        A X
        C Z
        C Z
        B Y
        A Z
        A Y
        B Y
        A X
        C Z
        A Y
        A Z
        C Z
        B Y
        A X
        C Z
        B Y
        C Z
        A Z
        B Y
        C Y
        C X
        B Z
        A Z
        C Z
        A Z
        A Y
        C Z
        A Z
        C Z
        C Z
        C Z
        A Y
        C Z
        C Z
        A Z
        B Z
        C Z
        C Z
        C X
        A Z
        C X
        B X
        C X
        A Y
        C Z
        A Z
        A Y
        C X
        A X
        B Y
        C Y
        A Z
        A Z
        C Y
        C X
        A X
        A Z
        C Z
        A X
        A Z
        C X
        A X
        B X
        C Z
        C Z
        A X
        C X
        A Z
        A Z
        A Y
        C Z
        A X
        B Y
        C Z
        A Z
        C X
        A X
        C Z
        B Y
        A X
        B Y
        A Y
        C Y
        A Y
        C Y
        A X
        A Z
        C Z
        B Y
        C Z
        C Z
        B Y
        A X
        A Y
        B Y
        A X
        B X
        A Z
        C Z
        C X
        A Z
        A X
        C Z
        A Y
        C Z
        A Z
        A Z
        A Z
        A Y
        A Z
        B Y
        C Z
        C X
        C X
        C Z
        A Z
        A Z
        A X
        B Y
        C Z
        A Z
        C X
        B X
        C Z
        C Z
        A Z
        C Z
        C Z
        A Z
        B Y
        A X
        B X
        B Y
        A Z
        A Z
        A Z
        A Z
        A Y
        C Z
        C Z
        C Y
        B Y
        B Y
        B Y
        C Z
        C Z
        A X
        A Y
        C Z
        B Y
        B Z
        A X
        C Y
        C Z
        A X
        C Z
        C X
        A X
        C Z
        C Z
        A Y
        A X
        A Z
        A Z
        A Y
        C Z
        A Z
        C X
        B Z
        C Z
        B Y
        A Y
        C Z
        C Z
        A X
        C Z
        C X
        C X
        A Z
        A Y
        A Y
        B Y
        C X
        C Z
        A Z
        C X
        B Y
        A Z
        C Z
        A Y
        C Z
        A Z
        C Z
        A X
        C X
        A X
        A X
        A Y
        B Y
        C Z
        C Z
        A X
        C Z
        A Y
        A Z
        A Y
        B Y
        C Z
        A Z
        A Z
        A Z
        A Y
        C Y
        B X
        A X
        C Z
        A Y
        C Z
        A Y
        B Z
        A X
        C Z
        A Z
        C Z
        A Z
        A X
        C X
        A X
        A X
        A Z
        A Z
        C X
        B Y
        C Z
        C Y
        A Z
        A Z
        A Z
        A Z
        A Z
        A X
        B Z
        B Y
        A Y
        C Z
        A Z
        B Y
        A Z
        C Y
        A Y
        A X
        C Z
        A Z
        C Z
        C Z
        C Y
        A Z
        C Z
        A X
        A Z
        A Z
        B Y
        C Z
        C Z
        C Z
        C Z
        C Z
        C Z
        C Z
        B Y
        C Z
        C Z
        A Z
        C Z
        B Y
        C X
        C X
        C Z
        C Z
        C Z
        A Z
        B Y
        A X
        C Z
        B Y
        B Y
        C Z
        A X
        C Z
        C X
        C Z
        B Y
        B Y
        C Z
        A Z
        C Z
        C X
        B Y
        C Z
        A Z
        C Z
        C Z
        C Z
        C Z
        A Y
        C Y
        A Y
        C Z
        C Z
        A X
        A Z
        C Y
        C Z
        A X
        B Z
        C X
        C Z
        A Z
        C Z
        C X
        C Z
        C Y
        A X
        A Z
        A Y
        A X
        B X
        A Z
        A Y
        A Z
        B Y
        A Z
        B Y
        B Y
        C Z
        A Z
        C Z
        C Z
        A X
        A X
        C Z
        C Z
        C Z
        C Z
        C X
        A Y
        C Z
        C Z
        A Z
        A Y
        C Z
        A Z
        B Y
        C Z
        C Z
        C Z
        C Z
        A Z
        B Y
        B Z
        B Z
        A Z
        A Y
        A X
        C Z
        B X
        C Z
        B Y
        A X
        C Y
        A Y
        C Z
        C Z
        C X
        C Z
        C X
        C X
        A Z
        A X
        A Z
        C Z
        B X
        A Z
        C Z
        C Z
        A Z
        A Y
        C X
        A X
        C Z
        A X
        A Y
        A X
        A X
        A Z
        A Z
        C Z
        A Z
        A Z
        A Z
        B Y
        A Z
        C Z
        A Y
        C Z
        C Z
        A Z
        A Y
        A Y
        C X
        A X
        B Z
        A Z
        C Z
        A Z
        A Y
        A X
        B Y
        B Y
        A Y
        A Z
        A Z
        B X
        C X
        A Z
        C Z
        C X
        C Z
        C Z
        A X
        C Z
        C Z
        B Y
        A Z
        A Z
        A Y
        A Z
        A Y
        C Z
        C Z
        C Z
        C Z
        B Y
        B Y
        A Z
        C Z
        A Z
        A X
        C Z
        C Z
        A Y
        C Z
        B Y
        A X
        A X
        A Z
        C Z
        C Z
        C Y
        C Z
        A X
        C Z
        A Z
        C Z
        B Y
        A Z
        C Z
        B Y
        B Y
        C Z
        A Y
        C Z
        C Y
        A Z
        A X
        A X
        C Z
        A Y
        C Z
        A Z
        C Z
        A X
        A X
        A Z
        A Z
        C Z
        B Y
        C X
        A Y
        C Z
        C Z
        A X
        C Y
        A Y
        C Z
        C Y
        A Z
        B Z
        C Z
        A Z
        B Y
        B Y
        A Z
        C Z
        A X
        A Z
        C Z
        A Z
        C Z
        C Z
        B Y
        B Y
        A X
        B Y
        A Z
        C Z
        A Z
        A Z
        C Z
        A Y
        C Y
        C Z
        A X
        C Z
        A Z
        C Z
        C Z
        C Y
        C Z
        A Z
        C Z
        C Z
        B Y
        A Z
        C Z
        B X
        B Y
        A Y
        C Z
        A Z
        B Y
        A Z
        C Z
        C X
        C Z
        A Y
        A Y
        A Y
        B Y
        C Z
        A Z
        A Z
        C Z
        A Z
        C X
        A Z
        A Z
        A X
        A Z
        A Y
        C Z
        A Z
        C Z
        A Z
        A X
        C Z
        C X
        C Z
        C Z
        C Z
        C Z
        C Z
        B Y
        C Z
        A Y
        C Z
        B Y
        C X
        C Z
        C Z
        C Z
        B X
        A X
        C Z
        C Z
        C X
        C Z
        A Y
        C Z
        A Z
        A Z
        C Z
        C Z
        C Z
        A Z
        C Z
        A X
        A Z
        C Z
        A Z
        C Z
        A X
        C Z
        C Z
        C X
        A Z
        C Z
        C Z
        C Z
        C Z
        A X
        A Z
        A X
        C Z
        B Y
        C X
        B Y
        A Z
        C Z
        C Z
        A X
        A Z
        A Y
        A X
        A Z
        B Z
        B Y
        C Z
        C Z
        A Y
        C Z
        B Y
        C Z
        B X
        A Z
        C Z
        A Y
        A Z
        A Z
        B Y
        C X
        A Y
        C Z
        C Z
        C Z
        B Z
        B Y
        B X
        A X
        A X
        C Z
        C Z
        C X
        A Y
        C Z
        C Z
        C Y
        C Z
        A Z
        A X
        C Z
        B Y
        C Y
        A Z
        C Z
        A X
        C Z
        C Z
        A X
        A Y
        C Z
        A Y
        C Z
        A X
        C Z
        C Z
        C Z
        C Y
        B Y
        A Z
        C Z
        C X
        B Y
        A Y
        B Y
        C Z
        C Z
        A X
        C Z
        C Y
        A Z
        A X
        A Y
        C Z
        B X
        B Y
        C Z
        A Z
        B Y
        A Y
        C Z
        A X
        B Y
        A X
        C Z
        A Z
        C Z
        B Y
        A Z
        C X
        B Y
        A Y
        A Z
        A Z
        A X
        B Y
        B Y
        C Z
        A X
        C X
        A Z
        B Y
        A X
        B Y
        C Z
        A Z
        A Z
        C Z
        C Z
        A Z
        A X
        C Z
        B Y
        C Z
        C Z
        A Z
        C Z
        A Z
        B Z
        A Z
        C Z
        A Z
        A X
        A X
        A X
        A Y
        C Z
        C Y
        C Z
        C Y
        A X
        A X
        A Y
        C Z
        A Y
        C Z
        C Z
        C X
        B Y
        C Z
        C Z
        C Y
        B Y
        A X
        B X
        A Z
        C Z
        B Y
        A Z
        B Y
        A Y
        A Z
        B Z
        A Y
        A Y
        A X
        A Z
        A Y
        B Y
        C Z
        A X
        C Z
        B Y
        A Z
        C Z
        A Z
        A X
        B Y
        C Z
        A Z
        A Y
        C X
        B Y
        C Z
        C X
        A X
        C Z
        A Y
        C Z
        A X
        B Y
        C Y
        C Z
        A Y
        C Z
        A Z
        A Z
        A Z
        C Z
        C X
        B Y
        B Z
        C Z
        C Z
        C Z
        A Z
        C Z
        C Z
        A Z
        A Z
        B Y
        C Z
        A X
        A Y
        A X
        A Y
        C Z
        C Z
        B Y
        A X
        A Z
        A Z
        A Z
        C Z
        B Z
        C Y
        C Z
        B Y
        C Y
        C Z
        A Z
        C Z
        C X
        A Z
        A Z
        B Y
        A Z
        C Z
        A Y
        A X
        A Z
        A Y
        C Z
        C Z
        B Y
        B Y
        C Z
        C Z
        C Z
        C X
        A Z
        A Z
        C Z
        B Y
        C X
        B X
        C Z
        A Z
        C Y
        C Z
        C Z
        A X
        C Z
        C Z
        C Z
        A Z
        A Y
        C Z
        B Y
        C Z
        A X
        B X
        C X
        C Z
        A Z
        C Z
        A Z
        A Z
        C Z
        A Y
        A Z
        C Z
        A Z
        A Z
        A X
        C X
        C X
        A X
        C Z
        B Y
        B Y
        A Z
        A Z
        A X
        A Y
        B Y
        C Y
        A Z
        A Z
        C Z
        A X
        C Z
        A Y
        B Y
        C X
        A Y
        C Z
        C Z
        C Z
        A Z
        A Z
        C Y
        A X
        A X
        A X
        C X
        C X
        A X
        C Z
        A X
        B Y
        A Z
        A Z
        C Z
        A X
        A X
        A X
        C Z
        C Z
        C Z
        A Z
        C Z
        A Z
        A Z
        A X
        A Y
        A Y
        C Z
        B Y
        A Y
        A Z
        B Y
        B Y
        C Z
        B Y
        A Y
        C X
        A Z
        A Y
        C Z
        C Z
        A X
        A Z
        B Y
        C Z
        A Y
        A Z
        A Z
        A Z
        C Z
        A Z
        B Y
        C Z
        A Z
        A Z
        A Z
        A Y
        A X
        B Y
        A Z
        A Z
        B X
        A Y
        C Z
        C Z
        A Z
        A Z
        B Y
        A Y
        C Z
        A Z
        C Z
        C X
        C Z
        C X
        C Z
        B Y
        A Y
        C Z
        B Y
        A X
        B Y
        B Y
        A Z
        C Z
        A X
        A X
        C Z
        A X
        A Z
        C Z
        C Z
        B Y
        A Z
        C Z
        C Z
        C Z
        C X
        A Z
        A Z
        C Z
        A Z
        C Z
        C Z
        C X
        B Y
        A X
        A Z
        A X
        C Z
        A Y
        C Z
        C Z
        A X
        C Z
        B X
        A Z
        A Z
        C Z
        C Z
        A Y
        A X
        A Z
        A Z
        C Z
        C Z
        C Z
        C Z
        C Z
        B Y
        A Y
        A Z
        C Z
        C Z
        C Z
        C Z
        C Z
        C X
        A Y
        C X
        C Z
        C Z
        A X
        A Z
        A Z
        C Z
        B Z
        A Z
        B Y
        A Z
        C Z
        C Y
        A Z
        C Z
        C Z
        A X
        C Z
        C Z
        B Y
        A Y
        B Y
        C Z
        A Z
        B X
        C Z
        A Y
        B Y
        C Y
        A Z
        A Y
    """.trimIndent()
